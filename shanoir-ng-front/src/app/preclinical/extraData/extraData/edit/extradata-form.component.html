<!--
Shanoir NG - Import, manage and share neuroimaging data
Copyright (C) 2009-2019 Inria - https://www.inria.fr/
Contact us on https://project.inria.fr/shanoir/

This program is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

You should have received a copy of the GNU General Public License
along with this program. If not, see https://www.gnu.org/licenses/gpl-3.0.html
-->

<div class="ExtradataFormComponent content-component">
		<form *ngIf="form"  [formGroup]="form" class="max-content" novalidate>
		<table class="layout">
			<tr><td colspan="2">
				<span class="right-col" [ngSwitch]="mode">
					<ng-template [ngSwitchCase]="'view'"> 
						<div class="header command-zone" i18n="View extradata|Title">View extra data</div>
					</ng-template>
					<ng-template ngSwitchDefault> 
						<div class="header command-zone" i18n="Edit extradata|Title">Add extra data</div>
					</ng-template>
				</span>
			</td></tr>
			<tr>
				<td>
					<fieldset>
					<ol>
						<li class="required">
							<label i18n="Edit extradata|File label" class="required-label">File</label>
							<span class="right-col" [ngSwitch]="mode">
								<ng-template [ngSwitchCase]="'view'"> 
										<a i18n="Edit extradata|download" (onClick)="downloadExtraData(extradata)">{{extradata?.filename}}</a>
								</ng-template>
								<ng-template ngSwitchDefault>
									<file-upload #fu (change)="fu.prepareUploadRequest()" [multiple]="true" (selectedFile)="onFileSelected($event)"></file-upload>
								</ng-template>
							</span>							
						</li>						
					</ol>
					</fieldset>
				</td>
			</tr>
		</table>
    </form>
    
    <div *ngIf="isStandalone">
		<form-footer
			[state]="footerState"
			(save)="save()"
			(edit)="goToEdit()"
			(back)="goBack()">
		</form-footer>
   	</div>
    
</div>