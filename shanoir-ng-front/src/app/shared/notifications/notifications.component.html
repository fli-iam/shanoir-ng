<!--
Shanoir NG - Import, manage and share neuroimaging data
Copyright (C) 2009-2019 Inria - https://www.inria.fr/
Contact us on https://project.inria.fr/shanoir/

This program is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

You should have received a copy of the GNU General Public License
along with this program. If not, see https://www.gnu.org/licenses/gpl-3.0.html
-->

<span>
    <button class="awesome" (click)="refresh()" >
        <i class="fas fa-sync"></i>
    </button>
    <span (click)="toggle()">
        <span class="notif">
            <i class="fas fa-hourglass-half"></i>
            <span class="number" [class.highlight]="newProcess">{{nbProcess}}</span>
        </span>
        <span class="notif">
            <i class="fas fa-flag-checkered"></i>
            <span class="number" [class.highlight]="newDones">{{nbDone}}</span>
        </span>
    </span>
<span>
<div *ngIf="isOpen" [@menuSlideDown]="isOpen" class="dropdown">
    
    <div class="subtitle"><i class="fas fa-hourglass-half"></i> {{nbProcess}} works in progress</div>
    <ul>
        <li *ngFor="let item of tasksInProgress"> {{item.message}} <progress-bar progress="{{item.status}}"></progress-bar></li>
    </ul>
    <li class="horizontal-bar"><hr/></li>
    <div class="subtitle"><i class="fas fa-flag-checkered"></i>{{nbDone}} works done</div>
    <ul>
        <li *ngFor="let item of tasksDone"> {{item.message}} </li>
    </ul>
    <li class="horizontal-bar"><hr/></li>
    <ul>
        <menu-item label="Manage my tasks" i18n-label="Administration menu|Manage tasks@@navbarManageTasks" link="task" [icon]="ImagesUrlUtil.NOTEPAD_ICON_PATH"></menu-item>
    </ul>
</div>