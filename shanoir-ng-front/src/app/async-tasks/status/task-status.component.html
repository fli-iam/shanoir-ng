<!--
Shanoir NG - Import, manage and share neuroimaging data
Copyright (C) 2009-2019 Inria - https://www.inria.fr/
Contact us on https://project.inria.fr/shanoir/

This program is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

You should have received a copy of the GNU General Public License
along with this program. If not, see https://www.gnu.org/licenses/gpl-3.0.html
-->

<form>
    <fieldset>
        <legend>Details</legend>
        <ol>
            <li>
                <label>Id</label>
                <span class="right-col">{{task.id}}</span>
            </li>
            <li>
                <label>Label</label>
                <span class="right-col">{{task.eventLabel}}</span>
            </li>
            <li>
                <label>Status</label>
                <span class="right-col">
                    <progress-bar [progress]="task?.progress" [warning]="task.status == 5"></progress-bar>
                    <!-- <button *ngIf="task.eventType == 'downloadDataset.event' && task?.progress == -1" class="alt left-icon normal">
                        <i class="fas fa-download"></i>
                        Retry
                    </button>
                    <button *ngIf="task.eventType == 'downloadDataset.event' && task?.progress == 2" class="alt left-icon normal">
                        <i class="fas fa-download"></i>
                        Retry
                    </button> -->
                </span>
            </li>
            <li class="message-li">
                <label>Last message</label>
                <span class="right-col">
                    <div class="message">
                        <pre><code>{{task?.message}}</code></pre>
                    </div>
                </span>
            </li>
            <li *ngIf="task.route">
                <label>Link</label>
                <span class="right-col left-icon">
                    <a [routerLink]="task.route">
                        <i class="fa-solid fa-link"></i>
                        {{task.route}}
                    </a>
                </span>
            </li>
            <li>
                <label>Creation</label>
                <span class="right-col">{{task.creationDate | date: 'dd/MM/yyyy HH:mm:ss'}}</span>
            </li>
            <li>
                <label>Last update</label>
                <span class="right-col">{{task.lastUpdate | date: 'dd/MM/yyyy HH:mm:ss'}}</span>
            </li>
        </ol>
    </fieldset>
</form>
