<!--
Shanoir NG - Import, manage and share neuroimaging data
Copyright (C) 2009-2019 Inria - https://www.inria.fr/
Contact us on https://project.inria.fr/shanoir/

This program is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

You should have received a copy of the GNU General Public License
along with this program. If not, see https://www.gnu.org/licenses/gpl-3.0.html
-->

<fieldset *ngIf="info && form" [formGroup]="form">
    <ol>
        <li *ngIf="!presetStudyId">
            <label *ngIf="editMode" i18n="Edit user|Study label@@editUserStudy" [class.required-label]="editMode">List of available studies</label> 
            <span class="right-col">
                <ng-container *ngIf="editMode">
                    <select-box 
                        formControlName="studyId"
                        [(ngModel)]="info.studyId"
                        [options]="studyOptions"
                        (change)="onStudyIdChange($event)">
                    </select-box>
                    <label *ngIf="hasError('studyId', ['required'])" class="form-validation-alert" i18n="Edit user|Study required error@@editUserStudyRequiredError">Study is required!</label>
                </ng-container>
                <input type = "hidden"
                    [(ngModel)]="info.studyName"
                    formControlName="studyName">
                <span *ngIf="!editMode">{{info.studyName}}</span>
            </span>
        </li>
        <li *ngIf="presetStudyId">
            <input type = "hidden"
                [(ngModel)]="info.studyId"
                formControlName="studyId">
            <input type = "hidden"
                [(ngModel)]="info.studyName"
                formControlName="studyName">
        </li>
        <!-- <li>
            <label i18n="Edit user|Function label@@editUserFunction" [class.required-label]="editMode">Role</label> 
            <span class="right-col">
                <ng-container *ngIf="editMode">
                    <input type="radio" [(ngModel)]="info.function" value="radiologist" (change)="onInfoChange()" formControlName="function"/>
                    <span>radiologist</span>
                    <br/><input type="radio" [(ngModel)]="info.function" value="researcher" (change)="onInfoChange()" formControlName="function"/>
                    <span>researcher</span>
                    <br/><input type="radio" [(ngModel)]="info.function" value="other" (change)="onInfoChange()" formControlName="function"/>
                    <span>other</span>
                </ng-container>
                <span *ngIf="!editMode">{{info.function}}</span>
            </span>
        </li> -->
    </ol>
</fieldset>