<!--
Shanoir NG - Import, manage and share neuroimaging data
Copyright (C) 2009-2019 Inria - https://www.inria.fr/
Contact us on https://project.inria.fr/shanoir/

This program is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

You should have received a copy of the GNU General Public License
along with this program. If not, see https://www.gnu.org/licenses/gpl-3.0.html
-->

@if (dataset) {
    <fieldset>
        <legend>Mr Dataset Data</legend>
        <ol>
            <li>
                <label i18n="Mr Dataset detail|Mr Dataset echo time@@mrDatasetEchoTime">
                    Echo Time ({{ getUnit("MS") }})
                </label>
                <span class="right-col">
                    @for (echoTime of dataset.echoTime; track echoTime) {
                        <span class="multi">{{ echoTime.echoTimeValue }}</span>
                    }
                </span>
            </li>
            <li>
                <label i18n="Mr Dataset detail|Mr Dataset flip angle@@mrDatasetFlipAngle">
                    Flip Angle ({{ getUnit("DEGREES") }})
                </label>
                <span class="right-col">
                    @for (flipAngle of dataset.flipAngle; track flipAngle) {
                        <span class="multi">{{ flipAngle.flipAngleValue }}</span>
                    }
                </span>
            </li>
            <li>
                <label i18n="Mr Dataset detail|Mr Dataset inversion time@@mrDatasetInversionTime">
                    Inversion Time ({{ getUnit("MS") }})
                </label>
                <span class="right-col">
                    @for (inversionTime of dataset.inversionTime; track inversionTime) {
                        <span class="multi">{{ inversionTime.inversionTimeValue }}</span>
                    }
                </span>
            </li>
            <li>
                <label i18n="Mr Dataset detail|Mr Dataset repetition time id@@mrDatasetRepetitionTimeId">
                    Repetition Time ({{ getUnit("MS") }})
                </label>
                <span class="right-col">
                    @for (repetitionTime of dataset.repetitionTime; track repetitionTime) {
                        <span class="multi">{{ repetitionTime.repetitionTimeValue }}</span>
                    }
                </span>
            </li>
            <li>
                <label i18n="Mr Dataset detail|Mr Dataset quality procedure type@@mrDatasetQualityProcedureType">
                    Quality Procedure Type
                </label>
                <span class="right-col">
                    {{ dataset.mrQualityProcedureType }}
                    <!-- TODO : 'enum' -->
                </span>
            </li>
        </ol>
    </fieldset>
}
@if (dataset) {
    <fieldset>
        <legend>Mr Dataset Metadata</legend>
        <ol>
            <li>
                <label i18n="Mr Dataset detail|Mr Dataset nature@@mrDatasetNature">Mr Dataset Nature</label>
                <span>
                    @switch (mode) {
                        @case ("view") {
                            {{ natureLabel }}
                        }
                        @default {
                            <select-box
                                [(ngModel)]="dataset.updatedMrMetadata.mrDatasetNature"
                                [options]="natureOptions"
                                (userChange)="updateForm()"></select-box>
                        }
                    }
                </span>
            </li>
        </ol>
    </fieldset>
}
